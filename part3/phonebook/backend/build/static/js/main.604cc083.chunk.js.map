{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Form","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","numbersToShow","deletePerson","map","x","i","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","notificationClass","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","setNotificationClass","useEffect","personsService","toLowerCase","includes","createSuccessMessage","person","status","command","setTimeout","event","target","PersonForm","preventDefault","newEntry","entryExists","find","window","confirm","updatedEntry","returnedPerson","catch","error","p","concat","entry","result","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.604cc083.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ filter, handleFilter }) => {\n    return (\n        <>\n            filter: <input value={filter} onChange={handleFilter} />\n        </>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange }) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n\n}\n\nexport default Form","import React from 'react'\n\n\nconst Persons = ({ numbersToShow, deletePerson }) => {\n\n    return (\n        <>\n            { numbersToShow.map((x, i) =>\n                <div key={i}>\n                    <p>{x.name} {x.number} <button onClick={() => deletePerson(x.id)}>Delete</button></p>\n\n                </div>\n            )}\n        </>\n    )\n\n}\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n\nconst deleteEntry = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n\n// eslint-disable-next-line\nexport default { getAll, create, update, deleteEntry }\n\n","import React from 'react'\n\n\nconst Notification = ({ message, notificationClass }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={notificationClass}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n//import axios from 'axios'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [notificationClass, setNotificationClass] = useState('success')\n\n\n  // const hook = () => {\n  //   axios\n  //     .get('http://localhost:3001/persons')\n  //     .then(response => {\n  //       setPersons(response.data)\n  //     })\n  // }\n\n  const hook = () => {\n    personsService.getAll().then(\n      response => {\n        setPersons(response)\n      }\n    )\n  }\n  useEffect(hook, [])\n\n  const numbersToShow = filter ? persons.filter(x => x.name.toLowerCase().includes(filter.toLowerCase())) : persons\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newEntry = { name: newName, number: newNumber }\n    const entryExists = persons.find(x => x.name === newName)\n\n    if (entryExists) {\n      if (window.confirm(`${entryExists.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const updatedEntry = { ...entryExists, number: newEntry.number }\n        personsService.update(entryExists.id, updatedEntry)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== entryExists.id ? person : returnedPerson))\n            createSuccessMessage(returnedPerson.name, \"success\", \"update\")\n          })\n          .catch(error => {\n            createSuccessMessage(false, \"error\", \"update\")\n            setPersons(persons.filter(p => p.id !== entryExists.id))\n          })\n\n      }\n    }\n    else {\n      personsService\n        .create(newEntry)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          createSuccessMessage(returnedPerson.name, \"success\")\n\n        })\n        .catch(error => {\n          createSuccessMessage(false, \"error\", \"create\")\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n\n  };\n\n  const deletePerson = (id) => {\n    const entry = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${entry.name}?`)) {\n      personsService\n        .deleteEntry(id)\n        .then(result => {\n          setPersons(persons.filter(p => p.id !== id))\n          createSuccessMessage(entry.name, \"deleted\")\n        })\n        .catch(error => {\n          createSuccessMessage(entry.name, \"error\", \"delete\")\n        })\n    }\n  }\n\n  const createSuccessMessage = (person, status, command) => {\n    if (status === \"success\") {\n      setNotificationClass(\"success\")\n\n      if (command === \"update\") {\n        setSuccessMessage(`Updated ${person}`)\n      }\n      else {\n        setSuccessMessage(`Added ${person}`)\n      }\n    }\n    else if (status === \"error\") {\n      setNotificationClass(\"error\")\n\n      if (command === \"update\") {\n        setSuccessMessage('There was an issue updating your phonebook entry')\n      }\n      if (command === \"delete\") {\n        setSuccessMessage(`Information of ${person} has already been removed fom server\"`)\n      }\n      if (command === \"create\") {\n        setSuccessMessage(\"There was an issue creating your phonebook entry\")\n\n      }\n\n    }\n    else if (status === \"deleted\") {\n      setNotificationClass(\"success\")\n      setSuccessMessage(`${person} was removed from server`)\n    }\n\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={successMessage} notificationClass={notificationClass} />\n\n      <Filter filter={filter} handleFilter={handleFilter} />\n\n      <h3>Add a new Entry</h3>\n\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n\n      <Persons numbersToShow={numbersToShow} deletePerson={deletePerson} />\n    </div>\n\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}